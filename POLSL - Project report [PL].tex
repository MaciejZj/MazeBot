\documentclass{article}
\usepackage{polski}
\usepackage[utf8]{inputenc}
\usepackage[a4paper, margin=20mm]{geometry}
\usepackage{amsmath}
\usepackage{graphicx}
\graphicspath{ {.//} }
\author{Maciej Ziaja, Bartosz Staszulonek}
\date{\today}
\begin{document}
\title{
  Projekt Systemy Mikroprocesorowe \\
  \large MazeBot \\
    Robot unikający przeszkód z regulacją napędu silników prądu stałego}

\maketitle
\tableofcontents
\newpage

\section{Wstęp}

\subsection{Abstrakt}
Projekt polegał na budowie mobilnego robota, który unika przeszkód.
Konstrukcja porusza się na dwóch kołach, wykrywa przeszkody za pomocą czujnika ultradźwiękowego zamocowanego na wieży serwomechanizmu.
Platforma robota napędzana jest za pomocą pary silników prądu stałego, których kąt obrotu jest odczytywany przez robota za pomocą czujników szczelinowych.
W celu zwiększenia precyzji działania układu zbudowano układy regulacji prędkości silników.
Wykonano dwa typy układ regulacji, synchronizujący prędkość obrotu obu silników w~celu zachowania kierunku jazdy na wprost oraz kaskadowy układ regulacji skrętu platformy robota.
Układ regulacji skrętu robota przypomina zasadą działania prosty serwomechanizm.
Przedstawiono metodę identyfikacji i~strojenia regulatorów.
Na potrzeby projektu wykonano także schemat układu elektronicznego i~zrealizowano go w~postaci obwodu drukowanego PCB.
Zaprojektowano także podwozie robota i~wydrukowano je w~technologii~3D.

\subsection{Cel i zakres projektu}
Projekt obejmował budowę platformy bazującej na mikroprocesorze z~serii ATmega32, obsługującym peryferia:
\begin{itemize}
	\item czujnika ultradźwiękowego wykrywającego przeszkody,
	\item wieży serwomechanizmu, na której zamontowany jest czujnik i która kieruje go w różne strony,
	\item silników prądu stałego stanowiących napęd platformy
	\item czujników szczelinowych odczytujących kąt obrotu osi kół platformy,
	\item odbiornika podczerwieni pozwalającego na wyłączenie robota pilotem jeśli ten się oddali.
\end{itemize}
Współpraca tych komponentów pozwala robotowi na unikanie przeszkód.
Działanie robota powinno polegać na~jeździe przed siebie do~czasu napotkania przeszkody.
W momencie wykrycia przeszkody robot powinien się zatrzymać, a~następnie zbadać czy w~jego otoczeniu znajduje się niezagrodzona droga i~skierować się na~nią.
Prototyp wykonano z~użyciem układu Arduino Leonardo.
Przeprowadzono testy współpracy komponentów i~wyciągnięto wnioski dotyczące budowy finalnej konstrukcji.
Na podstawie testów określono parametry elementów finalnej konstrukcji.
Działanie prototypu prowadziło do następujących decyzji projektowych, które podyktowały dalszy tok projektu i~jego zakres:
\begin{itemize}
	\item w celu wydajnego wykorzystania przestrzeni na platformie zdecydowano się na wykonanie własnego układu elektronicznego i obwodu drukowanego,
	\item zaprojektowano własne podwozie dopasowane do używanych peryferiów,
	\item wykonano układy regulacji jazdy na wprost oraz skręcania platformy.
\end{itemize}

\section{Organizacja projektu}
\subsection{Harmonogram}
Projekt należało zrelaizować w przeciągu 4 miesięcy.
Proces jego wykonania składał się z dwóch części: testów komponentów wraz z budową prototypu oraz konstrukcji finalnego układu na podstawie wniosków wyciągniętych z testów konstrukcji prototypowej.
	Tabela \ref{tab:schedule} przedstawia ramowy rozkład pracy w czasie.

\begin{table}[hbt]
	\centering
	\label{tab:schedule}
		\begin{tabular}{|c|c|}
	\hline
Termin                  & Zakres pracy                                                                         \\ \hline
01.10.2018 - 20.10.2018 & Zebranie komponentów układu, ustalenie zakresu prac                                  \\ \hline
20.10.2018 - 01.11.2018 & Test komponentów i~peryferiów z użyciem Arduino Leonardo                             \\ \hline
01.11.2018 - 14.11.2018 & Budowa prototypu, programowanie głównej logiki programu \\ \hline
14.11.2018 - 01.12.2018 & Projekty obwodu drukowanego PCB i~podwozia                                           \\ \hline
01.12.2018 - 20.12.2018 & Synteza i~oprogramowanie układów regulacji                                           \\ \hline
20.12.2018 - 01.01.2019 & Złożenie układu finalnego                                                            \\ \hline
01.01.2019 - 20.01.2019 & Strojenie układów regulacji, budowa dokumentacji                                      \\ \hline
\end{tabular}
	\caption{Harmonogram pracy}
\end{table}

\subsection{Budżet}

\section{Budowa prototypu, analiza problemów}
Realizację projektu zaczęto od zgromadzenia peryferiów koniecznych do realizacji robota.
W pierwszej fazie prototypowania komponenty testowano osobno używając Arduino Leonardo. Zapoznano się z ich praktycznymi możliwościami i działaniem dostępnych bibliotek. 

Następnie połączono wszystkie komponenty jednocześnie i przeprowadzono ich jednoczesne testy oraz zmierzono zasilanie używając multimetru i zasilacza regulowanego.
Testy pokazały, że układ przy zasilaniu $ 7.3 \ V $~pobiera prąd do $ 0.3 \ A $,~co dostarcza nam informacji potrzebnych do doboru baterii dla robota.

Elementy prototypowe umieszczono na platformie testowej i oceniono działanie konstrukcji.
Okazało się, że działanie robota jest możliwe, ale sterowanie silnikami w~torze otwartym nie było wystarczająco precyzyjne aby unikać przeszkód. Przy symetrycznym wysterowaniu silników robot nie poruszał się w~kierunku prostym, różnice w działaniu poszczególnych silników są zbyt duże by pracowały one symetrycznie co jest wymagane by platforma jechała na wprost.
Skręcanie platformy o zadany kąt również okazało się nieprecyzyjne, obroty o~na przykład 90 stopni w~prawo były mało powtarzalne i~obarczone dużym błędem. Zdecydowano się na syntezę układów regulacji, aby wyeliminować te problemy.

Testy platformy prototypowej pokazały także, że złożoność układu jest zbyt duża aby budować go na płytce stykowej/prototypowej.
Dodatkowo serwomechanizm, który jest bardzo wrażliwy na zakłócenia zasilania, działał źle gdy był połączony przez wiele kabli, które razem tworzyły dużą rezystancję. Obserwacje te skłoniły nas do zaprojektowania własnego obwodu drukowanego, który mieściłby wszystkie potrzebne komponenty elektroniczne na małej przestrzeni.
Konstrukcja mechaniczna platformy prototypowej okazała się mało solidna i nie była dostosowana do używanych przez nas modułów elektronicznych. W celu zwiększenia porządku i wytrzymałości układu zdecydowano się na projekt własnego podwozia robota.

\section{Projekt układu elektronicznego}
\subsection{Działanie i uzasadnienie doboru elementów elektronicznych}
\subsection{Schemat układu elektronicznego}
\subsection{Projekt układu drukowanego}


\section{Projekt podwozia robota}

\section{Synteza układów regulacji}
\subsection{Regulator synchronizacji prędkości silników}
\subsection{Kaskadowy regulator skrętu platformy}
\subsection{Identyfikacja obiektu regulacji}
\subsection{Strojenie regulatorów}

\section{Implementacja programistyczna}

\section{Wykorzystane technologie}

\section{Perspektywy rozwoju, podsumowanie}


\pagenumbering{arabic}
\end{document}